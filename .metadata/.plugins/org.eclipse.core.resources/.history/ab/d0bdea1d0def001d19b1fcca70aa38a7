package com.gdu.app11.batch;

import java.util.List;

import org.springframework.scheduling.annotation.EnableScheduling;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

import com.gdu.app11.domain.AttachDTO;
import com.gdu.app11.mapper.UploadMapper;
import com.gdu.app11.util.MyFileUtil;

import lombok.AllArgsConstructor;

@EnableScheduling
@Component
@AllArgsConstructor		// @Autowired for field
public class RemoveWrongfileScheduler {

	// field
	private MyFileUtil myFileUtil;
	private UploadMapper uploadMapper;
	
	
	@Scheduled(cron="0 0 2 1/1 * ?")  // www.cronmaker.com에서 생성한 매일 새벽 3시 정보에서 마지막 필드 *를 지워줌
	public void execute() {	// 메소드명은 아무 의미 없다.
		
		// 어제 업로드 된 첨부 파일들의 정보 (DB에서 가져오기)
		List<AttachDTO> attachList = uploadMapper.getAttachListInYesterday();
	}
}
